/**
 * FlashBulb
 * http://elemental-shift.github.com/flash-bulb
 *
 * Animates elements into and out of view in a sequece of 'camera flashes'
 *
 * @requires jQuery
 * @author Jeremy Cloutier
 * @copyright 2012 Jeremy Cloutier (github.com/elemental-shift)
 * @license MIT
 */
if(typeof Object.create!=="function"){Object.create=function(e){function t(){}t.prototype=e;return new t}}(function(e,t,n,r){var i;var s={init:function(t,n,r){var i=this;i.elems=t;i.callback=r;i.timeout=null;i.options=e.extend({},e.fn.flashBulb.options,n)},show:function(){function s(){if(r<n.length){var o=e(n[r]);if(o.is(":hidden")){var u=o.children(".flash");o.show(1,function(){u.animate({opacity:0},t.options.fadeSpeed,function(){u.remove()})});i=setTimeout(s,t.options.interval)}}else if(e.isFunction(t.callback)){var a=t.options.fadeSpeed-t.options.interval>0?t.options.fadeSpeed:t.options.interval;i=setTimeout(function(){return t.callback.call(t.elems)},a)}r++}var t=this;var n=t.elems.siblings(":hidden");if(t.elems.length>0){var r=0;n.append('<div class="flash"></div>');e(".flash").css({"background-color":t.options.background,position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"});s()}return t.elems},hide:function(){function s(){r--;if(r>=0){var o=e(n[r]);var u=o.children(".flash");u.animate({opacity:100},t.options.initialFlash,function(){o.animate({opacity:0},t.options.fadeSpeed,function(){o.hide().css("opacity",100)})});i=setTimeout(s,t.options.interval)}else if(e.isFunction(t.callback)){var a=t.options.fadeSpeed-t.options.interval>0?t.options.fadeSpeed:t.options.interval;i=setTimeout(function(){return t.callback.call(t.elems)},a)}}var t=this;var n=t.elems.siblings(":visible");if(n.length>0){var r=n.length;n.append('<div class="flash"></div>');e(".flash").css({"background-color":t.options.background,position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",opacity:0});s()}return t.elems}};e.fn.flashBulb=function(t,n){var o=typeof t=="string"?t:t.method||e.fn.flashBulb.options.method;if(o=="kill"){clearTimeout(i);return this}if(o!=="kill"||u==r){var u=Object.create(s);u.init(this,t,n)}if(o=="show"){return u.show()}else if(o=="hide"){return u.hide()}else{e.error("Method "+o+" does not exists on jQuery.flash")}};e.fn.flashBulb.options={method:"show",initialFlash:30,fadeSpeed:600,interval:200,background:"white"}})(jQuery,window,document)